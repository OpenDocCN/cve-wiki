# vulhub-1.Apache HTTPD 换行解析漏洞（CVE-2017-15715） - 1ink - 博客园

> 原文：[`www.cnblogs.com/1ink/p/15263526.html`](https://www.cnblogs.com/1ink/p/15263526.html)

## 复现流程

> Apache HTTPD 是一款 HTTP 服务器，它可以通过 mod_php 来运行 PHP 网页。
> 
> 其 2.4.0~2.4.29 版本中存在一个解析漏洞，在解析 PHP 时，`1.php\x0A`将被按照 PHP 后缀进行解析，导致绕过一些服务器的安全策略。
> 
> \n 为换行,十六进制编码为 0x0a

在文件名后添加 0x0a 没有解析成 php 文件

![image-20210913095216943](img/bed3828afed54e11408437f2f02a510b.png)

在文件名的 16 进制的后面添加 0a

![image-20210913095025784](img/967658bb4108135d6bb971f45a0c17ba.png)

访问后解析为 php 文件

![image-20210913095347514](img/3a05fd5d0c6866ea6b9d8b3b10bf342b.png)

## 防御措施

设置上传目录为不可执行

对文件重命名