# oracle 7月份更新 CVE-2020-14625 复现&利用 - 宽字节安全 - 博客园

> 原文：[https://www.cnblogs.com/unicodeSec/p/13307149.html](https://www.cnblogs.com/unicodeSec/p/13307149.html)

## 危害

绕过T3黑名单 ，复活ysoserial gadget利用

## diff补丁

首先下载7月份补丁，与四月份对比，发现有以下不同之处
![](../Images/baf2e0a7032875f268d28ea3ee2cb79d.png)

## com.oracle.wls.shaded.org.apache.xalan.xsltc.trax

我们看一下这个类的代码
![](../Images/a379af0c1424e92d8da70009494751dd.png)
从名字，还有代码我们可以看出，其实这是一个黑名单绕过。但是不知道什么原因，这次才被添加到黑名单

## 利用

很简单，我们以shiro反序列化来做例子

payload打过去，是无法利用得，原因如图
![](../Images/28f9f4f3b0a5fe1537a21a41d33fe3f8.png)

很简单，黑名单拦截了
![](../Images/5668f589ddc3bb0974991c425aee6234.png)
黑名单如下

```
!org.codehaus.groovy.runtime.ConvertedClosure;!org.codehaus.groovy.runtime.ConversionHandler;!org.codehaus.groovy.runtime.MethodClosure;!org.springframework.transaction.support.AbstractPlatformTransactionManager;!java.rmi.server.UnicastRemoteObject;!java.rmi.server.RemoteObjectInvocationHandler;!com.bea.core.repackaged.springframework.transaction.support.AbstractPlatformTransactionManager;!java.rmi.server.RemoteObject;!org.apache.commons.collections.functors.*;!com.sun.org.apache.xalan.internal.xsltc.trax.*;!javassist.*;!java.rmi.activation.*;!sun.rmi.server.*;!org.jboss.interceptor.builder.*;!org.jboss.interceptor.reader.*;!org.jboss.interceptor.proxy.*;!org.jboss.interceptor.spi.metadata.*;!org.jboss.interceptor.spi.model.*;!com.bea.core.repackaged.springframework.aop.aspectj.*;!com.bea.core.repackaged.springframework.aop.aspectj.annotation.*;!com.bea.core.repackaged.springframework.aop.aspectj.autoproxy.*;!com.bea.core.repackaged.springframework.beans.factory.support.*;!org.python.core.* 
```

而我们可以发现，这次黑名单的类，没有在黑名单中出现，所以我们可以魔改一下ysoserial
![](../Images/e63e97e2be9fb3ff8f0d652cf1c1c2a9.png)

成功绕过黑名单
![](../Images/cfd82942c2c554dca8a1dbbc710ac348.png)

##### 后期有时间的话，可能会放出针对这次weblogic更新的利用工具

![](../Images/b3cd60758923f94562792f8574634908.png)