# Bash 任意命令执行安全漏洞:CVE-2019-9924 影响范围 小于 Bash 4.4-beta2 之前版本 - walkersss - 博客园

> 原文：[`www.cnblogs.com/walkersss/p/16942825.html`](https://www.cnblogs.com/walkersss/p/16942825.html)

Bash 任意命令执行安全漏洞：CVE-2019-9924 影响范围 小于 Bash 4.4-beta2 之前版本

http://git.savannah.gnu.org/cgit/bash.git/snapshot/bash-bash-4.4-rc2.tar.gz

wget http://git.savannah.gnu.org/cgit/bash.git/snapshot/bash-5.2.tar.gz
tar xf bash-5.2.tar.gz
cd bash-5.2
./configure && make && make install
mv /bin/bash /bin/bash.bak && ln -s /usr/local/bin/bash /bin/bash
exec $SHELL
bash --version

挖坑进程清理—— kswapd0
netstat -antlp | grep kswapd0

netstat -antlp | grep 45.9.148.234
cd /proc/17265
exe -> /home/www/.configrc3/a/kswapd0
cd /home/www/.configrc3/a/

ps -ef | grep kswapd0

rm -rf /var/tmp/.copydie
crontab -e 清理定时任务

kill -9 497
就是跟着进程找找目录，然后杀进程，清目录
清定时任务
服务器的 ftp 端口最好别用 22,密码尽量设置复杂点
尽量用密钥连接服务器，最好别用账号密码连接
封闭不使用的端口，做到用一个开一个（通过防火墙和安全组策略）
密码增强复杂性
及时修补系统和软件漏洞

su - www

crontab -e

delete:

1 1 */2 * * /home/www/.configrc3/a/upd>/dev/null 2>&1
@reboot /home/www/.configrc3/a/upd>/dev/null 2>&1
5 8 * * 0 /home/www/.configrc3/b/sync>/dev/null 2>&1
@reboot /home/www/.configrc3/b/sync>/dev/null 2>&1
0 0 */3 * * /tmp/.X25-unix/.rsync/c/aptitude>/dev/null 2>&1