# Apache HTTPD 换行解析漏洞（CVE-2017-15715) - kalixcn - 博客园

> 原文：[`www.cnblogs.com/kalixcn/p/17610613.html`](https://www.cnblogs.com/kalixcn/p/17610613.html)

### Apache HTTPD 换行解析漏洞（CVE-2017-15715）【项目中遇到】

Apache HTTPD 是一款 HTTP 服务器，它可以通过 mod_php 来运行 PHP 网页，其**2.4.0~2.4.29**版本中存在一个解析漏洞，在解析 PHP 时,**1.php\x0A 将按照 PHP 后缀进行解析**，导致绕过一些服务器安全策略。

**1\. 环境搭建**

```
cd httpd/CVE-2017-15715/
docker-compose build
docker-compose up -d
docker ps
docker exec -it 容器 ID /bin/bash
http://your-ip:8080
docker-compose config
docker-compose down 
```

**2\. 漏洞复现**
上传一个名为 1.php 的文件，被拦截:
![img](img/0127877d9a1be12f3cd6d79a21fb3e0e.png)
在 1.php 后面插入一个\x0A（注意，不能是\x0D\x0A,只能是一个\x0A），不再拦截:
![img](img/2c631d0ba4d0855d11ad95e5247f59e0.png)
访问刚才上传的/1.php%0a，发现能够成功解析，但这个文件不是 php 后缀，说明目标存在解析漏洞：
![img](img/e87f20c686b9b80ec4d82eb7fc6f9a14.png)