# PJzhang:CVE-2019-14287 sudo 权限绕过漏洞复现 - PJzhang - 博客园

> 原文：[`www.cnblogs.com/landesk/p/11689454.html`](https://www.cnblogs.com/landesk/p/11689454.html)

猫宁！！！

参考：Ms08067 实验室公众号

**sudo 1.8.28 版本之前有漏洞。**

更新完 kali linux，deepin 截图工具失效，只能用自带的，不能划重点。

看一下 sudo 版本，1.8.23，centos7 上操作。

![](img/1b1227af892e5be4ffadb047454d6dae.png)

 设置密码 1234qwer

![](img/67c561ae32fdfad29c133e960336d5a6.png)

cat /etc/passwd

![](img/dbec0e7cb15beb645efceea2e7037167.png)

vim /etc/sudoers，test ALL=(ALL,!root) /usr/bin/vim 是新添加的，表示 test 这个用户不是 root 组，但

![](img/06290e1ee942d5c31ddfd14c731780f4.png)

 切换到 test 用户

![](img/b1dcb0f141ed9399a519d79179c98c3b.png)

![](img/92ee513fb96b954e2ac193edd04fe174.png)

![](img/54285aba4f6412562cacf114ac2b4944.png)

显示如下

![](img/55a95e1dd2fe2f72fcfcd0519f9b76b6.png)

就是在冒号后面，加个感叹号之后输入 whoami 或者 cat /etc/passwd，就可以看到执行结果。

![](img/3b35395e4ee78e17235cd5f5c25126a0.png)

![](img/849eef19bf3bfc23e6414ca84b3c5c15.png)

算是一个本地提权。