# CVE-2020-0796 永恒之蓝？ - 小菜鸟当黑客 - 博客园

> 原文：[`www.cnblogs.com/bflw/p/12524893.html`](https://www.cnblogs.com/bflw/p/12524893.html)

### 0X00 漏洞简介

Microsoft Windows 和 Microsoft Windows Server 都是美国微软（Microsoft）公司的产品，Microsoft Windows 是一套个人设备使用的操作系统，Microsoft Windows Server 是一套服务器操作系统，Server Message Block 是其中的一个服务器信息传输协议。

微软公布了在 Server Message Block 3.0（SMBv3）中发现的“蠕虫型”预授权远程代码执行漏洞。

### 0X01 漏洞概述

**(CVE-2020-0796 SMBGhost)**该漏洞是由于 SMBv3 协议在处理恶意的压缩数据包时出错所造成的，它可让远程且未经身份验证的攻击者在目标系统上执行任意代码。

### 0X02 影响版本

适用于 32 位系统的 Windows 10 版本 1903

Windows 10 1903 版（用于基于 x64 的系统）

Windows 10 1903 版（用于基于 ARM64 的系统）

Windows Server 1903 版（服务器核心安装）

适用于 32 位系统的 Windows 10 版本 1909

Windows 10 版本 1909（用于基于 x64 的系统）

Windows 10 1909 版（用于基于 ARM64 的系统）

Windows Server 版本 1909（服务器核心安装）

### 0X03 环境搭建

可在虚拟机中搭建 win10 系统来进行复现。如有需要可留言获取 iso 文件。

### 0X04 漏洞检测

需要 python 环境 新手的话可以先百度一下，调试好 python 环境

安装好 win 10 虚拟机

漏洞检测脚本有很多这里简单分享俩个。

gitHub 检测工具：[`github.com/ollypwn/SMBGhost`](https://github.com/ollypwn/SMBGhost)

检测工具演示：

![](img/b0d1fb9d0dffd15aa6c9e41f5cd02b75.png)

Ip 地址为 win10 地址，本地测试是需关闭 win10 防火墙成可 ping 通状态。

0X05 漏洞攻击

现在已有蓝屏 poc，私聊哦

安装好 poc 所需依赖库后即可进行攻击。提示那个安装那个

![](img/c3374f365bed08d48bdaea62e24f9f40.png)

攻击后，受攻击机器蓝屏

![](img/e4f1352e1266e5cd6100359bbacda61f.png)

直接蓝屏关机重启

### 企鹅群：1045867209

### 欢迎各位表哥

### 博主公众号

![](img/c6c1a4b057b858c88387a767f55d83a4.png)

本文欢迎转载。 如转载请务必注明出处。 觉得写的不错的可以右侧打赏一手。 群在上边欢迎大家来撩。