# CVE-2020-1971: OpenSSL 拒绝服务漏洞修复 - linyouyi - 博客园

> 原文：[https://www.cnblogs.com/linyouyi/p/14133173.html](https://www.cnblogs.com/linyouyi/p/14133173.html)

2020年12月8日`openssl` 发布了 `openssl 拒绝服务漏洞` 的风险通告，该漏洞编号为 `CVE-2020-1971` ，漏洞等级： `高危` ，漏洞评分： `7.5` 。

将 `OpenSSL` 升级到 `1.1.1i`

升级步骤：

1、下载新版openssl包

```
wget https://www.openssl.org/source/openssl-1.1.1i.tar.gz
```

2、解压缩

```
tar zxf openssl-1.1.1i.tar.gz
```

3、cd到解压后的目录进行配置

```
./config --prefix=/usr/local/openssl --openssldir=/usr/local/openssl --shared zlib
```

4、编译和安装

```
make && make install
```

 5、测试新安装openssl

```
cd /usr/local/openssl/bin && ./openssl version
```

若此时执行报错：

```
[root@pgmaster openssl-1.1.1i]# cd /usr/local/openssl/bin && ./openssl version
./openssl: error while loading shared libraries: libssl.so.1.1: cannot open shared object file: No such file or directory
```

解决此报错：

```
ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/
ln -s /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64/
```

再次执行：

```
[root@pgmaster bin]# ./openssl version
OpenSSL 1.1.1i  8 Dec 2020
```

 然后需要将之前的openssl替换掉

```
[root@pgmaster bin]# ll /usr/bin/openssl -rwxr-xr-x. 1 root root 555288 8月   9 2019 /usr/bin/openssl
[root@pgmaster bin]# ll /bin/openssl -rwxr-xr-x. 1 root root 555288 8月   9 2019 /bin/openssl
[root@pgmaster bin]# which openssl /usr/bin/openssl

[root@pgmaster bin]# mv /usr/bin/openssl{,.bak}
[root@pgmaster bin]# ln -s /usr/local/openssl/bin/openssl /usr/bin/ [root@pgmaster bin]# echo "/usr/local/openssl/lib">>/etc/ld.so.conf
[root@pgmaster bin]# ldconfig -v 
[root@pgmaster bin]# openssl version -a
```

现在可以直接使用了

```
[root@pgmaster bin]# openssl version
OpenSSL 1.1.1i  8 Dec 2020
```

批量升级

![](../Images/8f900a89c6347c561fdf2122f13be562.png)![](../Images/961ddebeb323a10fe0623af514929fc1.png)

```
wget https://www.openssl.org/source/openssl-1.1.1i.tar.gz
tar zxf openssl-1.1.1i.tar.gz
./config --prefix=/usr/local/openssl --openssldir=/usr/local/openssl --shared zlib yum -y install openssl-devel make 
make install
ln -s /usr/local/openssl/lib/libssl.so.1.1 /usr/lib64/
ln -s /usr/local/openssl/lib/libcrypto.so.1.1 /usr/lib64/ cd /usr/local/openssl/bin && ./openssl version

BIN_DIR=`which openssl` mv $BIN_DIR{,.bak} ln -s /usr/local/openssl/bin/openssl $BIN_DIR
```

View Code

版权声明本文为[自然洒脱]所创，转载请带上原文链接，感谢https://www.cnblogs.com/caibao666/p/14113806.html