# Linux 内核通杀提权漏洞 CVE-2016-5195 - 内核升级方法 - 北海悟空 - 博客园

> 原文：[`www.cnblogs.com/tdcqma/p/6015769.html`](https://www.cnblogs.com/tdcqma/p/6015769.html)

如题，对于脏牛(Dirty COW)漏洞的修复方式已经在上篇[文章](http://www.cnblogs.com/tdcqma/p/5992160.html)中有介绍过如何验证，这里对如何升级内核给出修复建议。

（注意：为避免不必要的生产风险的发生，请审核自己的实际环境而决定采用什么方法进行升级内核，本文以下步骤仅供参考）

1.查看当前内核信息，3.10.0

[root@localhost ~]# uname -a
Linux localhost.localdomain 3.10.0-327.28.3.el7.x86_64 #1 SMP Thu Aug 18 19:05:49 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux

2.安装源

```
rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm
获取 http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm
准备中...                          ################################# [100%]
    软件包 elrepo-release-7.0-2.el7.elrepo.noarch 已经安装
```

3.安装内核

```
yum --enablerepo=elrepo-kernel install kernel-ml-devel kernel-ml -y
```

4.修改内核启动顺序并重新启动

```
grub2-set-default 0

reboot
```

5.再次查看内核版本 4.8.5

```
[root@localhost ~]# uname -a
Linux localhost.localdomain 4.8.5-1.el7.elrepo.x86_64 #1 SMP Fri Oct 28 10:48:29 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux
```