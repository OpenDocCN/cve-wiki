# 【转】Oracle Database Server 'TNS Listener'远程数据投毒漏洞（CVE-2012-1675） - 飄ぺ風 - 博客园

> 原文：[`www.cnblogs.com/fengaix6/p/7978857.html`](https://www.cnblogs.com/fengaix6/p/7978857.html)

来源：http://blog.csdn.net/brj880719/article/details/53158507

安全公告：[`www.oracle.com/technetwork/topics/security/alert-cve-2012-1675-1608180.html`](http://www.oracle.com/technetwork/topics/security/alert-cve-2012-1675-1608180.html)

# 一、解决方案

1.  RAC：[My Oracle Support Note 1340831.1](http://support.oracle.com/CSP/main/article?cmd=show&type=NOT&id=1340831.1) 
2.  非 RAC：[My Oracle Support Note 1453883.1](http://support.oracle.com/CSP/main/article?cmd=show&type=NOT&id=1453883.1) 

# **二、简单举例：非 RAC 操作步骤，1453883.1 文档中 1)**

1.  解决方案分两种
    *   Restricting registration to the TCP protocol (Requires the fix for BUG:12880299)
    *   Restricting registration to the IPC protocol (The patch for BUG:12880299 is NOT required for the IPC method)
2.  添加"SECURE_REGISTER_[listener_name] = (TCP)"
    ![](img/61d5b16f25d94fe3af851ba69a5d19bf.png)
    LISTENER_PROD =  (DESCRIPTION_LIST =    (DESCRIPTION =      (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.66.101)(PORT = 1521)))) SECURE_REGISTER_LISTENER_PROD = (TCP)
3.  重启监听
    ![](img/88b9b4471f53ad08d25256dc60f26f7a.png) 
4.  注册监听
    *   SQL> alter system register; 
5.  校验

*   设置 remote_listener 参数
    alter system set remote_listener='(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.66.101)(PORT=1551))' scope=memory;
*   查看监听服务状态
    lsnrctl services listener
*   如果 remote 状态没有或为 block 状态，则为成功