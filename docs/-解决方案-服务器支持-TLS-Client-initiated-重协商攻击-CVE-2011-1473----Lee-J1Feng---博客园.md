# 【解决方案】服务器支持 TLS Client-initiated 重协商攻击(CVE-2011-1473) - Lee#J1Feng - 博客园

> 原文：[https://www.cnblogs.com/LeeXiaoFeng/p/11417382.html](https://www.cnblogs.com/LeeXiaoFeng/p/11417382.html)

使用SSL开启重协商的服务都会受该漏洞影响

Apache解决办法：

   升级到Apache 2.2.15以后版本

IIS解决办法：

    IIS 5.0启用SSL服务时，也会受影响。可以升级IIS 6.0到更高的版本。

Lighttpd解决办法：

    建议升级到lighttpd 1.4.30或者更高,并设置ssl.disable-client-renegotiation = "enable"。 

    http://download.lighttpd.net/lighttpd/releases-1.4.x/

Nginx解决办法：

    0.7.x升级到nginx 0.7.64

    0.8.x升级到 0.8.23 以及更高版本。

    http://nginx.org/en/download.html

Tomcat解决办法：

 1、使用NIO connector代替BIO connector，因为NIO不支持重协商，参考如下配置：

<Connector protocol="org.apache.coyote.http11.Http11NioProtocol">

（可能会影响Tomcat性能）；

 2、配置Nginx反向代理，在Nginx中修复OpenSSL相关问题。

    参考链接:

    https://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html

    https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html

    http://tomcat.apache.org/security-7.html#Not_a_vulnerability_in_Tomcat

    https://tomcat.apache.org/tomcat-6.0-doc/config/http.html#Connector_Comparison

Squid解决办法:

    升级到3.5.24以及以后版本

    http://www.squid-cache.org/Versions/

其它服务解决方案请联系各应用厂商确认关闭重协商的方法。

举例：ssl renegotiation disable