# 【解决方案】服务器支持 TLS Client-initiated 重协商攻击(CVE-2011-1473) - Lee#J1Feng - 博客园

> 原文：[`www.cnblogs.com/LeeXiaoFeng/p/11417382.html`](https://www.cnblogs.com/LeeXiaoFeng/p/11417382.html)

使用 SSL 开启重协商的服务都会受该漏洞影响

Apache 解决办法：

   升级到 Apache 2.2.15 以后版本

IIS 解决办法：

    IIS 5.0 启用 SSL 服务时，也会受影响。可以升级 IIS 6.0 到更高的版本。

Lighttpd 解决办法：

    建议升级到 lighttpd 1.4.30 或者更高,并设置 ssl.disable-client-renegotiation = "enable"。 

    http://download.lighttpd.net/lighttpd/releases-1.4.x/

Nginx 解决办法：

    0.7.x 升级到 nginx 0.7.64

    0.8.x 升级到 0.8.23 以及更高版本。

    http://nginx.org/en/download.html

Tomcat 解决办法：

 1、使用 NIO connector 代替 BIO connector，因为 NIO 不支持重协商，参考如下配置：

<Connector protocol="org.apache.coyote.http11.Http11NioProtocol">

（可能会影响 Tomcat 性能）；

 2、配置 Nginx 反向代理，在 Nginx 中修复 OpenSSL 相关问题。

    参考链接:

    https://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html

    https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html

    http://tomcat.apache.org/security-7.html#Not_a_vulnerability_in_Tomcat

    https://tomcat.apache.org/tomcat-6.0-doc/config/http.html#Connector_Comparison

Squid 解决办法:

    升级到 3.5.24 以及以后版本

    http://www.squid-cache.org/Versions/

其它服务解决方案请联系各应用厂商确认关闭重协商的方法。

举例：ssl renegotiation disable