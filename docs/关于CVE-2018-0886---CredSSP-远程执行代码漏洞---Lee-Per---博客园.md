# 关于 CVE-2018-0886 | CredSSP 远程执行代码漏洞 - Lee_Per - 博客园

> 原文：[`www.cnblogs.com/defaultlee/p/9034832.html`](https://www.cnblogs.com/defaultlee/p/9034832.html)

5 月 10 日远程连接一台 window server 2008 R2 的服务器，出现身份验证错误，要求的函数不受支持。远程计算机这可能是由于 CredSSP 加密 Oracle 修正。

如下图：

 ![](img/ff40f0ffe94e626d201023ff8f4aa7c2.png)

相关资料如下：

[`support.microsoft.com/zh-cn/help/4093492/credssp-updates-for-cve-2018-0886-march-13-2018`](https://support.microsoft.com/zh-cn/help/4093492/credssp-updates-for-cve-2018-0886-march-13-2018)

摘要

* * *

凭据安全支持提供程序协议 (CredSSP) 是处理其他应用程序的身份验证请求的身份验证提供程序。

CredSSP 的未修补版本中存在远程代码执行漏洞。 成功利用此漏洞的攻击者可以在目标系统上中继用户凭据以执行代码。 任何依赖 CredSSP 进行身份验证的应用程序都可能容易受到此类攻击。

此安全更新通过更正 CredSSP 在身份验证过程中验证请求的方式来修复此漏洞。

![](img/92ee5a6656eefe22abaf4d4981731041.png)

根据上图描述，这个漏洞需要 window 远程的客户端和服务端均更新安全补丁。

如果客户端已安装更新，服务器没有安装，没办法连接服务器更新补丁，则可以按以下三种方式操作：

方式一：修改客户端的组策略，连接到服务器更新补丁。（打完补丁后需还原组策略，不适用于家庭版）

方式二：修改客户端的注册表，连接到服务器更新补丁。（打完补丁后需还原注册表，适用于家庭版）

方式三：客户端卸载补丁，连接到服务器更新补丁，然后客户端再次更新补丁。（适用于家庭版）

补丁下载：

[`portal.msrc.microsoft.com/zh-cn/security-guidance/advisory/CVE-2018-0886`](https://portal.msrc.microsoft.com/zh-cn/security-guidance/advisory/CVE-2018-0886)

| 产品  | 平台 | 文章 | 下载 | 影响 | 严重性 | 取代 |
| --- | --- | --- | --- | --- | --- | --- |
| Windows 10 for 32-bit Systems |   | [4103716](https://support.microsoft.com/help/4103716) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103716) | 远程执行代码 | 重要 | 4093111 |
| Windows 10 for x64-based Systems |   | [4103716](https://support.microsoft.com/help/4103716) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103716) | 远程执行代码 | 重要 | 4093111 |
| Windows 10 Version 1511 for 32-bit Systems |   | [4103728](https://support.microsoft.com/help/4103728) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103728) | 远程执行代码 | 重要 | 4093109 |
| Windows 10 Version 1511 for x64-based Systems |   | [4103728](https://support.microsoft.com/help/4103728) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103728) | 远程执行代码 | 重要 | 4093109 |
| Windows 10 Version 1607 for 32-bit Systems |   | [4103723](https://support.microsoft.com/help/4103723) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103723) | 远程执行代码 | 重要 | 4093119 |
| Windows 10 Version 1607 for x64-based Systems |   | [4103723](https://support.microsoft.com/help/4103723) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103723) | 远程执行代码 | 重要 | 4093119 |
| Windows 10 Version 1703 for 32-bit Systems |   | [4103731](https://support.microsoft.com/help/4103731) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103731) | 远程执行代码 | 重要 | 4093107 |
| Windows 10 Version 1703 for x64-based Systems |   | [4103731](https://support.microsoft.com/help/4103731) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103731) | 远程执行代码 | 重要 | 4093107 |
| Windows 10 Version 1709 for 32-bit Systems |   | [4103727](https://support.microsoft.com/help/4103727) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103727) | 远程执行代码 | 重要 | 4093112 |
| Windows 10 Version 1709 for 64-based Systems |   | [4103727](https://support.microsoft.com/help/4103727) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103727) | 远程执行代码 | 重要 | 4093112 |
| Windows 10 Version 1803 for 32-bit Systems |   | [4103721](https://support.microsoft.com/help/4103721) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103721) | 远程执行代码 | 重要 |   |
| Windows 10 Version 1803 for x64-based Systems |   | [4103721](https://support.microsoft.com/help/4103721) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103721) | 远程执行代码 | 重要 |   |
| Windows 7 for 32-bit Systems Service Pack 1 |   | [4103718](https://support.microsoft.com/help/4103718) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103718) | 远程执行代码 | 重要 | 4093118 |
| [4103712](https://support.microsoft.com/help/4103712) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103712) |
| Windows 7 for x64-based Systems Service Pack 1 |   | [4103718](https://support.microsoft.com/help/4103718) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103718) | 远程执行代码 | 重要 | 4093118 |
| [4103712](https://support.microsoft.com/help/4103712) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103712) |
| Windows 8.1 for 32-bit systems |   | [4103725](https://support.microsoft.com/help/4103725) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103725) | 远程执行代码 | 重要 | 4093114 |
| [4103715](https://support.microsoft.com/help/4103715) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103715) |
| Windows 8.1 for x64-based systems |   | [4103725](https://support.microsoft.com/help/4103725) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103725) | 远程执行代码 | 重要 | 4093114 |
| [4103715](https://support.microsoft.com/help/4103715) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103715) |
| Windows RT 8.1 |   | [4103725](https://support.microsoft.com/help/4103725) | Monthly Rollup  | 远程执行代码 | 重要 | 4093114 |
| Windows Server 2008 for 32-bit Systems Service Pack 2 |   | [4056564](https://support.microsoft.com/help/4056564) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4056564) | 远程执行代码 | 重要 | 4056448 |
| Windows Server 2008 for 32-bit Systems Service Pack 2 (Server Core installation) |   | [4056564](https://support.microsoft.com/help/4056564) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4056564) | 远程执行代码 | 重要 | 4056448 |
| Windows Server 2008 for Itanium-Based Systems Service Pack 2 |   | [4056564](https://support.microsoft.com/help/4056564) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4056564) | 远程执行代码 | 重要 | 4056448 |
| Windows Server 2008 for x64-based Systems Service Pack 2 |   | [4056564](https://support.microsoft.com/help/4056564) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4056564) | 远程执行代码 | 重要 | 4056448 |
| Windows Server 2008 for x64-based Systems Service Pack 2 (Server Core installation) |   | [4056564](https://support.microsoft.com/help/4056564) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4056564) | 远程执行代码 | 重要 | 4056448 |
| Windows Server 2008 R2 for Itanium-Based Systems Service Pack 1 |   | [4103718](https://support.microsoft.com/help/4103718) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103718) | 远程执行代码 | 重要 | 4093118 |
| [4103712](https://support.microsoft.com/help/4103712) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103712) |
| Windows Server 2008 R2 for x64-based Systems Service Pack 1 |   | [4103718](https://support.microsoft.com/help/4103718) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103718) | 远程执行代码 | 重要 | 4093118 |
| [4103712](https://support.microsoft.com/help/4103712) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103712) |
| Windows Server 2008 R2 for x64-based Systems Service Pack 1 (Server Core installation) |   | [4103718](https://support.microsoft.com/help/4103718) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103718) | 远程执行代码 | 重要 | 4093118 |
| [4103712](https://support.microsoft.com/help/4103712) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103712) |
| Windows Server 2012 |   | [4103730](https://support.microsoft.com/help/4103730) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103730) | 远程执行代码 | 重要 | 4093123 |
| [4103726](https://support.microsoft.com/help/4103726) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103726) |
| Windows Server 2012 (Server Core installation) |   | [4103730](https://support.microsoft.com/help/4103730) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103730) | 远程执行代码 | 重要 | 4093123 |
| [4103726](https://support.microsoft.com/help/4103726) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103726) |
| Windows Server 2012 R2 |   | [4103725](https://support.microsoft.com/help/4103725) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103725) | 远程执行代码 | 重要 | 4093114 |
| [4103715](https://support.microsoft.com/help/4103715) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103715) |
| Windows Server 2012 R2 (Server Core installation) |   | [4103725](https://support.microsoft.com/help/4103725) | [Monthly Rollup](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103725) | 远程执行代码 | 重要 | 4093114 |
| [4103715](https://support.microsoft.com/help/4103715) | [Security Only](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103715) |
| Windows Server 2016 |   | [4103723](https://support.microsoft.com/help/4103723) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103723) | 远程执行代码 | 重要 | 4093119 |
| Windows Server 2016 (Server Core installation) |   | [4103723](https://support.microsoft.com/help/4103723) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103723) | 远程执行代码 | 重要 | 4093119 |
| Windows Server, version 1709 (Server Core Installation) |   | [4103727](https://support.microsoft.com/help/4103727) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103727) | 远程执行代码 | 重要 | 4093112 |
| Windows Server, version 1803 (Server Core Installation) |   | [4103721](https://support.microsoft.com/help/4103721) | [Security Update](https://catalog.update.microsoft.com/v7/site/Search.aspx?q=KB4103721) | 远程执行代码 | 重要 |   |