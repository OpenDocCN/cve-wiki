# Spring Messaging 远程命令执行漏洞（CVE-2018-1270） - 小菜鸟当黑客 - 博客园

> 原文：[`www.cnblogs.com/bflw/p/14822808.html`](https://www.cnblogs.com/bflw/p/14822808.html)

### 0x01 漏洞简介  

　　spring messaging 为 spring 框架提供消息支持，其上层协议是 STOMP，底层通信基于 SockJS，在 spring messaging 中，其允许客户端订阅消息，并使用 selector 过滤消息。selector 用 SpEL 表达式编写，并使用`StandardEvaluationContext`解析，造成命令执行漏洞。

### 0x02 环境搭建

docker-compose up -d

vulhub

### 0x03 漏洞复现

访问：http://your-ip:8080

###### ![](img/5c4861f21c80f2a4c40be353fae8ebee.png)

利用：

　　vulhub 中的脚本，需要网盘下载的关注公众号后台回复:CVE-2018-1270

python3.6 以上

![](img/0875f8df62393763acf42ec76fe166c3.png)

执行成功之后看 docker 容器

docker-compose exec spring bash

###### ![](img/23ab8eefae97ccf5ef6d4b885265fc9c.png)