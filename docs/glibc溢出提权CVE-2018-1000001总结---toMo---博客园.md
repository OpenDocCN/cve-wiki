# glibc溢出提权CVE-2018-1000001总结 - toMo - 博客园

> 原文：[https://www.cnblogs.com/dbxiaobai/p/10751995.html](https://www.cnblogs.com/dbxiaobai/p/10751995.html)

遇到了好几个centos6.5，一直尝试想提权。暂未成功，靶机内核：2.6.32-696.18.7.el6.x86_64。

glibc版本：ldd (GNU libc) 2.12

目前编译过程中都发现很多坑。

最开始编译报错，指定gcc路径/usr/bin/gcc，指定std为c99，使用-std=c99，还需要加-lrt

```
/usr/bin/gcc -o RationalLove RationalLove.c -std=c99 -lrt
```

遇到collect2: cannot find 'ld'

分两步编译：先gcc 编译成中间代码.o

```
gcc -o RationalLove.o RationalLove.c -std=c99 -lrt
```

然后编译成指定ld编译成可执行文件

```
/usr/bin/ld -o RationalLove RationalLove.o -lc -dynamic-linker /lib/ld-linux.so.2
```

-std=c99 -lrt这个选项不记得要不要加了。昨天凌晨测试的，现在没有靶机环境了。完全靠记忆。。

然后ld-linux.so.2的路径需要看靶机的环境。

查看命令：

```
#ldd /bin/cat linux-gate.so.1 => (0x00bfe000)
libc.so.6 => /lib/libc.so.6 (0x00a4a000) /lib/ld-linux.so.2 (0x00a28000)
```

最后发现运行报错：

#### tcgetattr: Invalid argument

很无语，暂时没找到原因。如果有哪位找到原因了，请不吝赐教！