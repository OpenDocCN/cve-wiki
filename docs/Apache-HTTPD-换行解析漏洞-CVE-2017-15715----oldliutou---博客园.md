# Apache HTTPD 换行解析漏洞（CVE-2017-15715) - oldliutou - 博客园

> 原文：[`www.cnblogs.com/oldliutou/p/15759562.html`](https://www.cnblogs.com/oldliutou/p/15759562.html)

# 利用 docker 部署环境

*   docker-compose up -d
*   docker ps -a

![image](img/ee57a3b3c2b4613859d524e1fbc4713f.png)

# 漏洞利用条件

> `Apache HTTPD 是一款 HTTP 服务器，它可以通过 mod_php 来运行 PHP 网页。其 2.4.0~2.4.29 版本中存在一个解析漏洞，在解析 PHP 时，1.php\x0A 将被按照 PHP 后缀进行解析，导致绕过一些服务器的安全策略。`

![image](img/2bb5c1e97f46ee8eedcf401b5a507d47.png)
**上传一句话木马并抓包**
![image](img/063e82d9a07bc03f2f5764063783a4f6.png)

# 漏洞利用

在`1.php`后面插入一个`\x0A`

![image](img/f6b394e16d2cfa41a69f698cad3475cb.png)
**上传成功**
![image](img/996940b62b3cf2dc9a3a38a5de766731.png)

# 访问 url

`htttp://xxxx:8080/1.php%0a` 成功上传

![image](img/d1e925d95dc6016e3b5a81629a144a19.png)

**蚁剑访问**
![image](img/136dcf29283bed9734d03e30200efcc6.png)